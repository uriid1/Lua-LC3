# Архитектура
  * Разярдность: 16 бит
  * Регистры общего назаначения: R0, R1, R2, R3, R4, R5, R6, R7
  * Регистры специального назначения
    * PC (Program Counter) — счетчик команд
    * COND (Condition) - состояние посленего условия
  * Память: 2^16 = 65536 (0x0000 – 0xFFFF) слов, каждое слово = 16 бит
  * Порядок байт: Big-endian (старший байт идет первым)
  * Размер инструкций: 16 бит (фиксированная длина)

# Охват инструкций
![Screenshot](instructions.png)

### Сделано
  - [x] BR
  - [x] ADD
  - [x] LD
  - [x] ST
  - [x] JSR
  - [x] AND
  - [x] LDR
  - [x] STR
  - [ ] RTI
  - [x] NOT
  - [x] LDI
  - [x] STI
  - [x] JMP
  - [x] RES
  - [x] LEA
  - [x] TRAP

### TRAP
  - [x] GETC
  - [x] OUT
  - [x] PUTS
  - [ ] TIN
  - [ ] PUTSP
  - [x] HALT
  - [ ] INU16
  - [ ] OUTU16

# Ассемблер
## Описание директив
  * `.ORIG` - Указывает начальный адрес программы.
  * `.FILL` - Заполняет одну ячейку памяти указанным значением.
  * `.BLKW` - Резервирует блок памяти заданного размера.
  * `.STRINGZ` - Сохраняет строку символов в памяти, завершая её нулевым символом (NUL).
  * `.END` - Обозначает конец программ


# Инстуркции

### BR
**Синтаксис**<br>
`BR[n][z][p] offset9`

**Описание**<br>
Выполняет условный переход по смещению `offset9`, если соответствующие флаги (`n` – отрицательное, `z` – ноль, `p` – положительное) установлены.

### ADD
**Синтаксис**<br>
`ADD DR, SR1, SR2`<br>
`ADD DR, SR1, imm5`

**Описание**<br>
Складывает содержимое регистра `SR1` с содержимым регистра `SR2` или с непосредственным значением `imm5`, результат сохраняется в `DR`. Обновляет условный флаг.

### LD
**Синтаксис**<br>
`LD DR, offset9`

**Описание**<br>
Загружает слово из памяти по адресу, вычисляемому как `PC` + `offset9`, и помещает его в `DR`.<br>
Обновляет условный флаг.

### ST
**Синтаксис**<br>
`ST SR, offset9`

**Описание**<br>
Сохраняет слово из регистра SR в память по адресу, вычисляемому как `PC` + `offset9`.

### JSR
**Синтаксис**
`JSR offset11`<br>
`JSRR BaseR`

**Описание**<br>
Выполняет переход к подпрограмме.<br>
В режиме `JSR` сохраняется адрес возврата в `R7`, и переход осуществляется по адресу `PC` + `offset11`.<br>
В режиме `JSRR` адрес перехода берётся из регистра `BaseR`.

### AND
**Синтаксис**<br>
`AND DR, SR1, SR2`<br>
`AND DR, SR1, imm5`

**Описание**<br>
Выполняет побитовое логическое И между содержимым регистра `SR1` и содержимым регистра `SR2` или между `SR1` и непосредственным значением `imm5`, результат сохраняется в `DR`. Обновляет условный флаг.

### LDR
**Синтаксис**<br>
`LDR DR, BaseR, offset6`

**Описание**<br>
Загружает слово из памяти по адресу, вычисляемому как (`BaseR + offset6`), и помещает его в `DR`.<br>
Обновляет условный флаг.

### STR
**Синтаксис**<br>
`STR SR, BaseR, offset6`

**Описание**<br>
Сохраняет слово из регистра `SR` в память по адресу, вычисляемому как (`BaseR + offset6`).

### RTI
**Синтаксис**<br>
`RTI`

**Описание**<br>
Возвращает управление из режима прерывания, восстанавливая предыдущее состояние процессора. Используется в системах с поддержкой прерываний.

### NOT
**Синтаксис**<br>
`NOT DR, SR`

**Описание**<br>
Выполняет побитовое отрицание (комплемент) содержимого регистра `SR` и сохраняет результат в `DR`. Обновляет условный флаг.

### LDI
**Синтаксис**<br>
`LDI DR, offset9`

**Описание**<br>
Косвенно загружает слово: сначала вычисляется адрес как `PC` + `offset9`, затем по этому адресу считывается указатель, и по полученному адресу загружается искомое слово в `DR`. Обновляет условный флаг.

### STI
**Синтаксис**<br>
`STI SR, offset9`

**Описание**<br>
Косвенно сохраняет слово: сначала вычисляется адрес как `PC` + `offset9`, затем по этому адресу считывается указатель, и по полученному адресу сохраняется содержимое регистра `SR`.

### JMP
**Синтаксис**<br>
`JMP BaseR`

**Описание**<br>
Безусловно переходит по адресу, содержащемуся в регистре `BaseR`.

### RET
**Синтаксис**<br>
`RET`

**Описание**<br>
Возвращает управление из подпрограммы, выполняя безусловный переход по адресу, хранящемуся в `R7`. Эквивалентно `JMP R7`.

### LEA
**Синтаксис**<br>
`LEA DR, offset9`

**Описание**<br>
Загружает адрес (`PC` + `offset9`) в регистр `DR`, не обращаясь к памяти по этому адресу. Обновляет условный флаг.

### TRAP
**Синтаксис**<br>
`TRAP trapvect8`

**Описание**<br>
Вызывает системный вызов, переходя к обработчику по адресу, заданному в trap-векторе (8 бит).<br>
Примеры: `TRAP x25 (HALT)`, `TRAP x21 (OUT)`, `TRAP x22 (PUTS)` и.т.д.

### RES
**Синтаксис**<br>
`RES`

**Описание**<br>
Зарезервирована для будущего использования.<br>
В спецификации LC‑3 не определена; инструкция должна игнорироваться.
